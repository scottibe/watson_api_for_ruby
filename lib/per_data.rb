require 'json'

require 'graph'



@nodes = {"word_count"=>8176,
 "processed_language"=>"en",
 "personality"=>
  [{"trait_id"=>"big5_openness",
    "name"=>"Openness",
    "category"=>"personality",
    "percentile"=>0.9332853079730161,
    "raw_score"=>0.7965647843129886,
    "children"=>
     [{"trait_id"=>"facet_adventurousness",
       "name"=>"Adventurousness",
       "category"=>"personality",
       "percentile"=>0.5470538997524719,
       "raw_score"=>0.5090222964310058},
      {"trait_id"=>"facet_artistic_interests",
       "name"=>"Artistic interests",
       "category"=>"personality",
       "percentile"=>0.6885377267115125,
       "raw_score"=>0.6902167511673458},
      {"trait_id"=>"facet_emotionality",
       "name"=>"Emotionality",
       "category"=>"personality",
       "percentile"=>0.610431593051257,
       "raw_score"=>0.6596284343631493},
      {"trait_id"=>"facet_imagination",
       "name"=>"Imagination",
       "category"=>"personality",
       "percentile"=>0.16160176634474638,
       "raw_score"=>0.6857895398773782},
      {"trait_id"=>"facet_intellect",
       "name"=>"Intellect",
       "category"=>"personality",
       "percentile"=>0.9939415631193379,
       "raw_score"=>0.7233680724425233},
      {"trait_id"=>"facet_liberalism",
       "name"=>"Authority-challenging",
       "category"=>"personality",
       "percentile"=>0.8367022674456301,
       "raw_score"=>0.5656385410039273}]},
  {"trait_id"=>"big5_conscientiousness",
    "name"=>"Conscientiousness",
    "category"=>"personality",
    "percentile"=>0.6462731050627996,
    "raw_score"=>0.645554286107035,
    "children"=>
     [{"trait_id"=>"facet_achievement_striving",
       "name"=>"Achievement striving",
       "category"=>"personality",
       "percentile"=>0.7542621807673127,
       "raw_score"=>0.7248223217098342},
      {"trait_id"=>"facet_cautiousness",
       "name"=>"Cautiousness",
       "category"=>"personality",
       "percentile"=>0.9138358034479273,
       "raw_score"=>0.5786247367138075},
      {"trait_id"=>"facet_dutifulness",
       "name"=>"Dutifulness",
       "category"=>"personality",
       "percentile"=>0.8638039022163426,
       "raw_score"=>0.6857794735811584},
      {"trait_id"=>"facet_orderliness",
       "name"=>"Orderliness",
       "category"=>"personality",
       "percentile"=>0.21397974867908875,
       "raw_score"=>0.46819080686982967},
      {"trait_id"=>"facet_self_discipline",
       "name"=>"Self-discipline",
       "category"=>"personality",
       "percentile"=>0.6684405570636855,
       "raw_score"=>0.5914043610205921},
      {"trait_id"=>"facet_self_efficacy",
       "name"=>"Self-efficacy",
       "category"=>"personality",
       "percentile"=>0.6365279191121718,
       "raw_score"=>0.7653802228264838}]},
    {"trait_id"=>"big5_extraversion",
    "name"=>"Extraversion",
    "category"=>"personality",
    "percentile"=>0.4889883847042947,
    "raw_score"=>0.5497742866503642,
    "children"=>
     [{"trait_id"=>"facet_activity_level",
       "name"=>"Activity level",
       "category"=>"personality",
       "percentile"=>0.4133407431147913,
       "raw_score"=>0.5291753585551311},
      {"trait_id"=>"facet_assertiveness",
       "name"=>"Assertiveness",
       "category"=>"personality",
       "percentile"=>0.9006251157986963,
       "raw_score"=>0.7083023338998201},
      {"trait_id"=>"facet_cheerfulness",
       "name"=>"Cheerfulness",
       "category"=>"personality",
       "percentile"=>0.31541001837403587,
       "raw_score"=>0.6020107114411498},
      {"trait_id"=>"facet_excitement_seeking",
       "name"=>"Excitement-seeking",
       "category"=>"personality",
       "percentile"=>0.040147918193055854,
       "raw_score"=>0.5294477303178866},
      {"trait_id"=>"facet_friendliness",
       "name"=>"Outgoing",
       "category"=>"personality",
       "percentile"=>0.3524689997449793,
       "raw_score"=>0.54149657652409},
      {"trait_id"=>"facet_gregariousness",
       "name"=>"Gregariousness",
       "category"=>"personality",
       "percentile"=>0.11962490281009452,
       "raw_score"=>0.3928402710101409}]},
   {"trait_id"=>"big5_agreeableness",
    "name"=>"Agreeableness",
    "category"=>"personality",
    "percentile"=>0.7360288077324916,
    "raw_score"=>0.7672895278992968,
    "children"=>
     [{"trait_id"=>"facet_altruism",
       "name"=>"Altruism",
       "category"=>"personality",
       "percentile"=>0.887055240879129,
       "raw_score"=>0.7475728550610725},
      {"trait_id"=>"facet_cooperation",
       "name"=>"Cooperation",
       "category"=>"personality",
       "percentile"=>0.6530583765319542,
       "raw_score"=>0.6031020105363303},
      {"trait_id"=>"facet_modesty",
       "name"=>"Modesty",
       "category"=>"personality",
       "percentile"=>0.4194532542069843,
       "raw_score"=>0.4376486573052242},
      {"trait_id"=>"facet_morality",
       "name"=>"Uncompromising",
       "category"=>"personality",
       "percentile"=>0.9439356778220542,
       "raw_score"=>0.7007721555545443},
      {"trait_id"=>"facet_sympathy",
       "name"=>"Sympathy",
       "category"=>"personality",
       "percentile"=>0.9845243408784228,
       "raw_score"=>0.7458686418596686},
      {"trait_id"=>"facet_trust",
       "name"=>"Trust",
       "category"=>"personality",
       "percentile"=>0.3301176496239572,
       "raw_score"=>0.5676919846690069}]},
   {"trait_id"=>"big5_neuroticism",
    "name"=>"Emotional range",
    "category"=>"personality",
    "percentile"=>0.7984775487072264,
    "raw_score"=>0.5145035919171084,
    "children"=>
     [{"trait_id"=>"facet_anger",
       "name"=>"Fiery",
       "category"=>"personality",
       "percentile"=>0.09135893905673681,
       "raw_score"=>0.4628504803957349},
      {"trait_id"=>"facet_anxiety",
       "name"=>"Prone to worry",
       "category"=>"personality",
       "percentile"=>0.1012781868017194,
       "raw_score"=>0.5072082097300677},
      {"trait_id"=>"facet_depression",
       "name"=>"Melancholy",
       "category"=>"personality",
       "percentile"=>0.3162288968913446,
       "raw_score"=>0.4181461513817956},
      {"trait_id"=>"facet_immoderation",
       "name"=>"Immoderation",
       "category"=>"personality",
       "percentile"=>0.32809319375646223,
       "raw_score"=>0.48348177557553407},
      {"trait_id"=>"facet_self_consciousness",
       "name"=>"Self-consciousness",
       "category"=>"personality",
       "percentile"=>0.2491407992295228,
       "raw_score"=>0.5110808937766389},
      {"trait_id"=>"facet_vulnerability",
       "name"=>"Susceptible to stress",
       "category"=>"personality",
       "percentile"=>0.07023726504999078,
       "raw_score"=>0.3737097588099667}]}],
 "needs"=>
  [{"trait_id"=>"need_challenge",
    "name"=>"Challenge",
    "category"=>"needs",
    "percentile"=>0.07841354523352861,
    "raw_score"=>0.6682867404383098},
   {"trait_id"=>"need_closeness",
    "name"=>"Closeness",
    "category"=>"needs",
    "percentile"=>0.08136916873355748,
    "raw_score"=>0.7314009293523358},
   {"trait_id"=>"need_curiosity",
    "name"=>"Curiosity",
    "category"=>"needs",
    "percentile"=>0.22503418085355625,
    "raw_score"=>0.796771452595059},
   {"trait_id"=>"need_excitement",
    "name"=>"Excitement",
    "category"=>"needs",
    "percentile"=>0.04485543077995724,
    "raw_score"=>0.5504089717459676},
   {"trait_id"=>"need_harmony",
    "name"=>"Harmony",
    "category"=>"needs",
    "percentile"=>0.051907401863371505,
    "raw_score"=>0.7530897721368137},
   {"trait_id"=>"need_ideal",
    "name"=>"Ideal",
    "category"=>"needs",
    "percentile"=>0.11688234033796563,
    "raw_score"=>0.6344692492229533},
   {"trait_id"=>"need_liberty",
    "name"=>"Liberty",
    "category"=>"needs",
    "percentile"=>0.019817331631882762,
    "raw_score"=>0.6594323203778728},
   {"trait_id"=>"need_love",
    "name"=>"Love",
    "category"=>"needs",
    "percentile"=>0.012399052046387249,
    "raw_score"=>0.6594729194983567},
   {"trait_id"=>"need_practicality",
    "name"=>"Practicality",
    "category"=>"needs",
    "percentile"=>0.0240444531185956,
    "raw_score"=>0.6850681418499351},
   {"trait_id"=>"need_self_expression",
    "name"=>"Self-expression",
    "category"=>"needs",
    "percentile"=>0.06713420064435127,
    "raw_score"=>0.6233819869406867},
   {"trait_id"=>"need_stability",
    "name"=>"Stability",
    "category"=>"needs",
    "percentile"=>0.1989978374237673,
    "raw_score"=>0.7075317363696039},
   {"trait_id"=>"need_structure",
    "name"=>"Structure",
    "category"=>"needs",
    "percentile"=>0.3020675263374976,
    "raw_score"=>0.6820298216794267}],
 "values"=>
  [{"trait_id"=>"value_conservation",
    "name"=>"Conservation",
    "category"=>"values",
    "percentile"=>0.08963240913080434,
    "raw_score"=>0.6049464782948002},
   {"trait_id"=>"value_openness_to_change",
    "name"=>"Openness to change",
    "category"=>"values",
    "percentile"=>0.13863765335772055,
    "raw_score"=>0.7423728804954053},
   {"trait_id"=>"value_hedonism",
    "name"=>"Hedonism",
    "category"=>"values",
    "percentile"=>0.08799010105676569,
    "raw_score"=>0.6517208639404708},
   {"trait_id"=>"value_self_enhancement",
    "name"=>"Self-enhancement",
    "category"=>"values",
    "percentile"=>0.023324867457603093,
    "raw_score"=>0.6190482828954841},
   {"trait_id"=>"value_self_transcendence",
    "name"=>"Self-transcendence",
    "category"=>"values",
    "percentile"=>0.09464244615523687,
    "raw_score"=>0.8115779100553838}],
 "consumption_preferences"=>
  [{"consumption_preference_category_id"=>"consumption_preferences_shopping",
    "name"=>"Purchasing Preferences",
    "consumption_preferences"=>
     [{"consumption_preference_id"=>
        "consumption_preferences_automobile_ownership_cost",
       "name"=>
        "Likely to be sensitive to ownership cost when buying automobiles",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_automobile_safety",
       "name"=>"Likely to prefer safety when buying automobiles",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_automobile_resale_value",
       "name"=>"Likely to prefer resale value when buying automobiles",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_clothes_quality",
       "name"=>"Likely to prefer quality when buying clothes",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_clothes_style",
       "name"=>"Likely to prefer style when buying clothes",
       "score"=>0.0},
      {"consumption_preference_id"=>"consumption_preferences_clothes_comfort",
       "name"=>"Likely to prefer comfort when buying clothes",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_influence_brand_name",
       "name"=>
        "Likely to be influenced by brand name when making product purchases",
       "score"=>0.5},
      {"consumption_preference_id"=>
        "consumption_preferences_influence_utility",
       "name"=>
        "Likely to be influenced by product utility when making product purchases",
       "score"=>0.0},
      {"consumption_preference_id"=>
        "consumption_preferences_influence_online_ads",
       "name"=>
        "Likely to be influenced by online ads when making product purchases",
       "score"=>0.0},
      {"consumption_preference_id"=>
        "consumption_preferences_influence_social_media",
       "name"=>
        "Likely to be influenced by social media when making product purchases",
       "score"=>0.0},
      {"consumption_preference_id"=>
        "consumption_preferences_influence_family_members",
       "name"=>
        "Likely to be influenced by family when making product purchases",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_spur_of_moment",
       "name"=>"Likely to indulge in spur of the moment purchases",
       "score"=>0.0},
      {"consumption_preference_id"=>
        "consumption_preferences_credit_card_payment",
       "name"=>"Likely to prefer using credit cards for shopping",
       "score"=>1.0}]},
   {"consumption_preference_category_id"=>
     "consumption_preferences_health_and_activity",
    "name"=>"Health & Activity Preferences",
    "consumption_preferences"=>
     [{"consumption_preference_id"=>"consumption_preferences_eat_out",
       "name"=>"Likely to eat out frequently",
       "score"=>0.0},
      {"consumption_preference_id"=>
        "consumption_preferences_fast_food_frequency",
       "name"=>"Likely to eat fast food frequently",
       "score"=>0.0},
      {"consumption_preference_id"=>"consumption_preferences_gym_membership",
       "name"=>"Likely to have a gym membership",
       "score"=>0.0},
      {"consumption_preference_id"=>
        "consumption_preferences_adventurous_sports",
       "name"=>"Likely to like adventurous sports",
       "score"=>0.0},
      {"consumption_preference_id"=>"consumption_preferences_outdoor",
       "name"=>"Likely to like outdoor activities",
       "score"=>1.0}]},
   {"consumption_preference_category_id"=>
     "consumption_preferences_environmental_concern",
    "name"=>"Environmental Concern Preferences",
    "consumption_preferences"=>
     [{"consumption_preference_id"=>
        "consumption_preferences_concerned_environment",
       "name"=>"Likely to be concerned about the environment",
       "score"=>1.0}]},
   {"consumption_preference_category_id"=>
     "consumption_preferences_entrepreneurship",
    "name"=>"Entrepreneurship Preferences",
    "consumption_preferences"=>
     [{"consumption_preference_id"=>"consumption_preferences_start_business",
       "name"=>"Likely to consider starting a business in next few years",
       "score"=>0.5}]},
   {"consumption_preference_category_id"=>"consumption_preferences_movie",
    "name"=>"Movie Preferences",
    "consumption_preferences"=>
     [{"consumption_preference_id"=>"consumption_preferences_movie_romance",
       "name"=>"Likely to like romance movies",
       "score"=>0.0},
      {"consumption_preference_id"=>"consumption_preferences_movie_adventure",
       "name"=>"Likely to like adventure movies",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_movie_horror",
       "name"=>"Likely to like horror movies",
       "score"=>0.0},
      {"consumption_preference_id"=>"consumption_preferences_movie_musical",
       "name"=>"Likely to like musical movies",
       "score"=>0.0},
      {"consumption_preference_id"=>"consumption_preferences_movie_historical",
       "name"=>"Likely to like historical movies",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_movie_science_fiction",
       "name"=>"Likely to like science-fiction movies",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_movie_war",
       "name"=>"Likely to like war movies",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_movie_drama",
       "name"=>"Likely to like drama movies",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_movie_action",
       "name"=>"Likely to like action movies",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_movie_documentary",
       "name"=>"Likely to like documentary movies",
       "score"=>1.0}]},
   {"consumption_preference_category_id"=>"consumption_preferences_music",
    "name"=>"Music Preferences",
    "consumption_preferences"=>
     [{"consumption_preference_id"=>"consumption_preferences_music_rap",
       "name"=>"Likely to like rap music",
       "score"=>0.0},
      {"consumption_preference_id"=>"consumption_preferences_music_country",
       "name"=>"Likely to like country music",
       "score"=>0.5},
      {"consumption_preference_id"=>"consumption_preferences_music_r_b",
       "name"=>"Likely to like R&B music",
       "score"=>0.5},
      {"consumption_preference_id"=>"consumption_preferences_music_hip_hop",
       "name"=>"Likely to like hip hop music",
       "score"=>0.0},
      {"consumption_preference_id"=>"consumption_preferences_music_live_event",
       "name"=>"Likely to attend live musical events",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_music_playing",
       "name"=>"Likely to have experience playing music",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_music_latin",
       "name"=>"Likely to like Latin music",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_music_rock",
       "name"=>"Likely to like rock music",
       "score"=>1.0},
      {"consumption_preference_id"=>"consumption_preferences_music_classical",
       "name"=>"Likely to like classical music",
       "score"=>1.0}]},
   {"consumption_preference_category_id"=>"consumption_preferences_reading",
    "name"=>"Reading Preferences",
    "consumption_preferences"=>
     [{"consumption_preference_id"=>"consumption_preferences_read_frequency",
       "name"=>"Likely to read often",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_read_motive_enjoyment",
       "name"=>"Likely to read for enjoyment",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_read_motive_information",
       "name"=>"Likely to read for information",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_books_entertainment_magazines",
       "name"=>"Likely to read entertainment magazines",
       "score"=>0.0},
      {"consumption_preference_id"=>
        "consumption_preferences_books_non_fiction",
       "name"=>"Likely to read non-fiction books",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_read_motive_mandatory",
       "name"=>"Likely to do mandatory reading only",
       "score"=>0.0},
      {"consumption_preference_id"=>
        "consumption_preferences_read_motive_relaxation",
       "name"=>"Likely to read for relaxation",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_books_financial_investing",
       "name"=>"Likely to read financial investment books",
       "score"=>0.0},
      {"consumption_preference_id"=>
        "consumption_preferences_books_autobiographies",
       "name"=>"Likely to read autobiographical books",
       "score"=>1.0}]},
   {"consumption_preference_category_id"=>
     "consumption_preferences_volunteering",
    "name"=>"Volunteering Preferences",
    "consumption_preferences"=>
     [{"consumption_preference_id"=>"consumption_preferences_volunteer",
       "name"=>"Likely to volunteer for social causes",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_volunteering_time",
       "name"=>"Likely to have spent time volunteering",
       "score"=>1.0},
      {"consumption_preference_id"=>
        "consumption_preferences_volunteer_learning",
       "name"=>"Likely to volunteer to learn about social causes",
       "score"=>1.0}]}],
 "warnings"=>[]}